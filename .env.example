# Faux Splunk Cloud Configuration
# Copy this file to .env and modify as needed
#
# WARNING: Change all passwords and secrets before running in production!

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================

# Public hostname for the platform (used in URLs, certificates, etc.)
FSC_HOSTNAME=localhost

# Enable debug mode (default: false, set to true for development)
FSC_DEBUG=false

# =============================================================================
# PORTS CONFIGURATION
# =============================================================================

# External HTTP port (redirects to HTTPS)
FSC_HTTP_PORT=80

# External HTTPS port
FSC_HTTPS_PORT=443

# Traefik dashboard port (should be firewalled in production)
FSC_TRAEFIK_DASHBOARD_PORT=8080

# API server internal port
FSC_API_PORT=8800

# =============================================================================
# AUTHENTICATION & SECRETS
# =============================================================================

# JWT secret key - CHANGE THIS IN PRODUCTION!
# Generate with: openssl rand -base64 32
FSC_JWT_SECRET_KEY=change-me-in-production-use-openssl-rand-base64-32

# =============================================================================
# KEYCLOAK IDENTITY PROVIDER
# =============================================================================

# Keycloak realm name
FSC_KEYCLOAK_REALM=faux-splunk

# Keycloak admin username
FSC_KEYCLOAK_ADMIN=admin

# Keycloak admin password - CHANGE IN PRODUCTION!
FSC_KEYCLOAK_ADMIN_PASSWORD=admin

# Keycloak database password - CHANGE IN PRODUCTION!
FSC_KEYCLOAK_DB_PASSWORD=keycloak

# =============================================================================
# SAML CONFIGURATION
# =============================================================================

# SAML Service Provider Entity ID
FSC_SAML_ENTITY_ID=faux-splunk-cloud

# SAML session duration in hours
FSC_SAML_SESSION_DURATION_HOURS=8

# Note: SAML URLs are derived from FSC_HOSTNAME:
# - ACS URL: https://${FSC_HOSTNAME}/api/v1/auth/saml/acs
# - SLO URL: https://${FSC_HOSTNAME}/api/v1/auth/saml/slo

# =============================================================================
# DOCKER-IN-DOCKER (DinD) CONFIGURATION
# =============================================================================

# Docker host for container orchestration
# Default: tcp://dind:2375 (Docker-in-Docker)
# For direct host access: unix:///var/run/docker.sock
FSC_DOCKER_HOST=tcp://dind:2375

# DinD memory limit (increase for more concurrent instances)
FSC_DIND_MEMORY_LIMIT=16g

# DinD CPU limit (increase for more concurrent instances)
FSC_DIND_CPU_LIMIT=4

# =============================================================================
# SPLUNK INSTANCE CONFIGURATION
# =============================================================================

# Default admin password for new Splunk instances - CHANGE IN PRODUCTION!
FSC_DEFAULT_ADMIN_PASSWORD=FauxSplunk123!

# Splunk Enterprise Docker image
FSC_SPLUNK_IMAGE=splunk/splunk:9.3.2

# Default time-to-live for instances in hours
FSC_DEFAULT_TTL_HOURS=24

# Maximum TTL in hours (1 week = 168)
FSC_MAX_TTL_HOURS=168

# =============================================================================
# RESOURCE LIMITS (per Splunk instance)
# =============================================================================

# Maximum memory per Splunk container in MB
FSC_MAX_MEMORY_MB=4096

# Maximum CPU cores per container
FSC_MAX_CPU_COUNT=2.0

# =============================================================================
# MULTI-TENANCY CONFIGURATION
# =============================================================================

# Default maximum instances per tenant
FSC_DEFAULT_TENANT_MAX_INSTANCES=5

# Default maximum memory (MB) per tenant
FSC_DEFAULT_TENANT_MAX_MEMORY_MB=8192

# =============================================================================
# SIEM BACKEND (Splunk Enterprise for admin portal)
# =============================================================================

# SIEM Splunk host (internal service name)
FSC_SIEM_HOST=splunk-siem

# SIEM Splunk management port
FSC_SIEM_PORT=8089

# SIEM Splunk admin password - CHANGE IN PRODUCTION!
FSC_SPLUNK_SIEM_PASSWORD=FauxSIEM123!

# =============================================================================
# HASHICORP VAULT (Secrets Management)
# =============================================================================

# Vault database password - CHANGE IN PRODUCTION!
FSC_VAULT_DB_PASSWORD=vault

# Vault OIDC client secret - CHANGE IN PRODUCTION!
# Generate with: openssl rand -hex 32
FSC_VAULT_OIDC_SECRET=vault-oidc-secret

# =============================================================================
# CONCOURSE CI (CI/CD Platform)
# =============================================================================

# Concourse database password - CHANGE IN PRODUCTION!
FSC_CONCOURSE_DB_PASSWORD=concourse

# Concourse local admin password - CHANGE IN PRODUCTION!
FSC_CONCOURSE_ADMIN_PASSWORD=admin

# Concourse OIDC client secret - CHANGE IN PRODUCTION!
# Generate with: openssl rand -hex 32
FSC_CONCOURSE_OIDC_SECRET=concourse-oidc-secret

# =============================================================================
# HASHICORP BOUNDARY (Just-in-Time Access)
# =============================================================================

# Boundary database password - CHANGE IN PRODUCTION!
FSC_BOUNDARY_DB_PASSWORD=boundary

# Boundary KMS keys - MUST CHANGE IN PRODUCTION!
# Generate with: openssl rand -base64 32
FSC_BOUNDARY_ROOT_KEY=8fVBkCvMp5QFKjhXA5hC/YvABfKNQ/xHF2rGm7WpYqk=
FSC_BOUNDARY_WORKER_AUTH_KEY=Kl62uD4fQKV5e/i6Dsi/mBTkxaOsuzq8M5OKo5rdTuI=
FSC_BOUNDARY_RECOVERY_KEY=9dVBkCvMp5QFKjhXA5hC/YvABfKNQ/xHF2rGm7WpYqk=

# Default session TTL in minutes
FSC_BOUNDARY_DEFAULT_SESSION_TTL=60

# Maximum session TTL in minutes (8 hours = 480)
FSC_BOUNDARY_MAX_SESSION_TTL=480

# =============================================================================
# GUACAMOLE (Remote Desktop Gateway)
# =============================================================================

# Guacamole admin password - CHANGE IN PRODUCTION!
FSC_GUACAMOLE_ADMIN_PASSWORD=admin

# =============================================================================
# TLS / CERTIFICATES (Step-CA)
# =============================================================================

# Step-CA name
FSC_CA_NAME=Faux Splunk Cloud CA

# ACME email for certificate requests
FSC_ACME_EMAIL=admin@faux-splunk.local

# Certificate duration (hours)
FSC_CERT_DURATION_HOURS=24

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database path (relative to data directory)
# Default: sqlite+aiosqlite:///data/fsc.db
# For PostgreSQL: postgresql+asyncpg://user:pass@host:5432/fsc
FSC_DATABASE_URL=sqlite+aiosqlite:///data/fsc.db
